<!doctype html>
<html lang="en" ng-app="starter" ng-cloak>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Quickly start your Vert.x Project">
  <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />

  <title>Vert.x Starter</title>

  <link rel="stylesheet" href="css/pure-min.css">
  <link rel="stylesheet" href="css/grids-responsive-min.css">
  <link rel="stylesheet" href="css/style.css">

  <style>
    /* Customization to limit height of the menu */
    .custom-restricted {
      height: 320px;
      border: 1px solid gray;
      border-radius: 4px;
    }
  </style>

  <script src="js/menus.js"></script>
  <script src="js/angular.min.js"></script>
  <script src="js/jszip.min.js"></script>
  <script src="js/jszip-utils.min.js"></script>
  <script src="js/FileSaver.min.js"></script>

  <script src="js/app.js"></script>

  <script src="js/handlebars.runtime.min.js"></script>
  <script src="templates.js"></script>

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-84828576-1', 'auto');
    ga('send', 'pageview');
  </script>
</head>

<body ng-controller="MainCtrl">

  <div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
      <div class="header">
        <h1 class="brand-title">Vert.x Starter</h1>
        <h2 class="brand-tagline">Create a Vert.x project with</h2>

        <nav class="nav">
          <ul class="nav-list">
            <li class="nav-item" ng-repeat="bt in metadata.buildtools">
              &nbsp;<a class="pure-button" style="{{ bt.id == buildtool.id ? 'background: rgb(202, 60, 60)' : ''}}" href="#" ng-click="reset($index)">{{ bt.id }}</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
      <form class="pure-form pure-form-aligned" ng-submit="generate()">
        <fieldset>

          <!-- A wrapper for all the project metadata -->
          <div class="posts">
            <h1 class="content-subhead">{{ buildtool.file }}</h1>
            <div class="pure-u-1">
              <div class="pure-control-group" ng-repeat="f in buildtool.fields">
                <label for="{{ f.key }}">{{ f.value }}</label>
                <input id="{{ f.key }}" type="text" value="{{ f.prefill }}" ng-required="f.required" >
              </div>
              <div class="pure-control-group" ng-if="buildtool.languages.length > 1">
                <label for="language">Language</label>
                <select id="language" ng-model="language" ng-change="changeLanguage()" ng-options="l.id for l in buildtool.languages"></select>
              </div>
              <div class="pure-control-group">
                <label for="preset">Application type</label>
                <select id="preset" ng-model="preset" ng-change="changePreset()" ng-options="p.id for p in metadata.presets | filter:filterPreset()">
                  <option value="">empty</option>
                </select>
              </div>
            </div>
          </div>

          <!-- A wrapper for all the project metadata -->
          <div class="posts">
            <h1 class="content-subhead">Select dependencies</h1>
            <div class="pure-u-5-12">
              <div class="pure-menu pure-menu-scrollable custom-restricted">
                <ul class="pure-menu-list">
                  <li class="pure-menu-item" ng-repeat="d in components">
                    <a href="#" ng-click="dependencies.push(d); components.splice($index, 1)" class="pure-menu-link">{{ d.artifactId }} <small ng-if="d.description">({{ d.description }})</small> <img ng-src="img/stack.svg" width="16px" ng-if="d.stack" /></a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="pure-u-5-12">
              <div class="pure-menu pure-menu-scrollable custom-restricted">
                <ul class="pure-menu-list">
                  <li class="pure-menu-item" ng-repeat="d in dependencies">
                    <a href="#" ng-click="components.push(d); dependencies.splice($index, 1)" class="pure-menu-link">{{ d.artifactId }} <small ng-if="d.description">({{ d.description }})</small> <img ng-src="img/stack.svg" width="16px" ng-if="d.stack" /></a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <!-- A wrapper for all the project metadata -->
          <div class="posts">
            <p>
              <button type="submit" class="pure-button pure-button-primary">Generate</button>
              <a id="downloadLink" href="#" download="{{ name }}.zip" style="visibility: hidden"><small>(click here if your download didn't start)</small></a>
            </p>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
  <div class="footer">
    <div class="pure-menu pure-menu-horizontal">
      <ul>
        <li class="pure-menu-item"><a href="http://vertx.io/" class="pure-menu-link">About</a></li>
        <li class="pure-menu-item"><a href="http://twitter.com/vertx_project/" class="pure-menu-link">Twitter</a></li>
        <li class="pure-menu-item"><a href="http://github.com/eclipse/vert.x/" class="pure-menu-link">GitHub</a></li>
      </ul>
    </div>
  </div>
</body>

</html>
